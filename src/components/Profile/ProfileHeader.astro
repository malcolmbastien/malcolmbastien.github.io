---
import { getCollection, type CollectionEntry } from 'astro:content';

const posts = await getCollection('posts');
const counts = {
	seed: posts.filter((p: CollectionEntry<'posts'>) => p.data.status === 'seed').length,
	sprout: posts.filter((p: CollectionEntry<'posts'>) => p.data.status === 'sprout').length,
	tree: posts.filter((p: CollectionEntry<'posts'>) => p.data.status === 'tree').length,
};
---

<div class="flex flex-col md:flex-row items-center gap-8 mb-12 pb-12 border-b border-slate-200 dark:border-slate-800">
	<div class="w-32 h-32 rounded-full bg-gradient-to-br from-emerald-400 to-slate-400 dark:from-emerald-600 dark:to-slate-700 flex items-center justify-center text-white text-4xl font-bold border-4 border-white dark:border-slate-900 shadow-sm transition-all duration-500">
		V
	</div>
	<div class="flex-1 text-center md:text-left">
		<h1 class="text-3xl font-bold text-slate-900 dark:text-slate-100 mb-2">Malcolm's Thoughts</h1>
		<p class="text-slate-600 dark:text-slate-400 mb-6 max-w-xl">Exploring ideas, documenting learning, and growing knowledge one seed at a time. Treating every thought as a living document.</p>
		
		<div class="flex flex-wrap justify-center md:justify-start gap-6 text-sm">
			<div class="flex items-center gap-2">
				<span class="w-6 h-6 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700 flex items-center justify-center text-xs">ðŸŒ±</span>
				<span class="font-semibold text-slate-900 dark:text-slate-200">{counts.seed}</span>
				<span class="text-slate-500 dark:text-slate-400 font-medium">Seeds</span>
			</div>
			<div class="flex items-center gap-2">
				<span class="w-6 h-6 rounded-full bg-green-200 dark:bg-green-900/40 border border-green-300 dark:border-green-800 flex items-center justify-center text-xs">ðŸŒ¿</span>
				<span class="font-semibold text-slate-900 dark:text-slate-200">{counts.sprout}</span>
				<span class="text-slate-500 dark:text-slate-400 font-medium">Sprouts</span>
			</div>
			<div class="flex items-center gap-2">
				<span class="w-6 h-6 rounded-full bg-emerald-500 dark:bg-emerald-600/40 border border-emerald-600 dark:border-emerald-500 flex items-center justify-center text-xs">ðŸŒ³</span>
				<span class="font-semibold text-slate-900 dark:text-slate-200">{counts.tree}</span>
				<span class="text-slate-500 dark:text-slate-400 font-medium">Trees</span>
			</div>
		</div>
	</div>
</div>
